import{r,j as e}from"./index-CYK8cNZ3.js";import{d as R,e as y}from"./Api-8GZy8yd7.js";import{e as k}from"./Utils-DDx7YewV.js";import{C as T}from"./CCardHeader-DvjWQ09B.js";import{b as H}from"./index.es-ZjOKsP15.js";import{C as L,a as x}from"./CRow-Di0gQowN.js";import{C as N}from"./CFormInput-DXgor7iN.js";import{C as p}from"./CFormSelect-BXlMpYhN.js";import{C as O,a as F,b as j,c as a,d as P,e as t}from"./CTable-BPykyNEs.js";import"./CFormControlWrapper-C7QaR4dY.js";import"./CFormControlValidation--hCqkr01.js";import"./CFormLabel-BLmK8-xQ.js";const J=()=>{const[m,u]=r.useState([]),[n,v]=r.useState([]),[d,C]=r.useState([]),[h,b]=r.useState([]);r.useState(null),r.useEffect(()=>{o()},[]);const o=async(s="",l="",c="")=>{const i={};s&&(i.searchStr=s),l&&(i.filter=l),c&&(i.sort=c);const _=await R(i);u(_)},f=s=>{let l=s.target.value;console.log(l),v(l),o(l,d,h)},g=s=>{let l=s.target.value;console.log(l),C(l),o(n,l,h)},w=s=>{let l=s.target.value;console.log(l),b(l),o(n,d,l)},S=async s=>{let l=s.target.id,c=s.target.value;await y(l,c)?o(n,d,h):alert("Oops! Something Went Wrong")};return e.jsxs("div",{children:[e.jsx(T,{children:e.jsx("h3",{children:"All Reels"})}),e.jsx(H,{fluid:!0,children:e.jsxs(L,{className:"my-3",children:[e.jsx(x,{sm:8,children:e.jsx(N,{type:"text",placeholder:"Search by User's Name/Reel Caption","aria-label":"",onChange:f})}),e.jsx(x,{sm:2,children:e.jsx(p,{"aria-label":"",options:[{label:"Filter by Status",value:""},{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],onChange:g})}),e.jsx(x,{sm:2,children:e.jsx(p,{"aria-label":"",options:["Sort by",{label:"Likes - High to Low",value:"likes_h2l"},{label:"Likes - Low to High",value:"likes_l2h"},{label:"Views - High to Low",value:"views_h2l"},{label:"Views - Low to High",value:"views_l2h"},{label:"Posted On - Old to New",value:"date_o2n"},{label:"Posted On - New to Old",value:"date_n2o"}],onChange:w})})]})}),e.jsxs(O,{bordered:!0,responsive:"lg",children:[e.jsx(F,{color:"primary",children:e.jsxs(j,{children:[e.jsx(a,{scope:"col",children:"#"}),e.jsx(a,{scope:"col",children:"Posted By"}),e.jsx(a,{scope:"col",children:"Caption"}),e.jsx(a,{scope:"col",children:"Media"}),e.jsx(a,{scope:"col",children:"Likes"}),e.jsx(a,{scope:"col",children:"Views"}),e.jsx(a,{scope:"col",children:"Posted On"}),e.jsx(a,{scope:"col",children:"Status"})]})}),e.jsx(P,{hover:!0,children:m.map((s,l)=>e.jsxs(j,{children:[e.jsx(a,{scope:"row",children:l+1}),e.jsx(t,{children:s.name}),e.jsx(t,{children:s.text}),e.jsxs(t,{align:"center",className:"mediaTd",children:[e.jsx("video",{src:s.reel_link,className:"reel-in-tr"}),e.jsx("br",{}),e.jsx("a",{href:s.reel_link,target:"_blank",rel:"noopener noreferrer",children:"View"})]}),e.jsx(t,{children:s.likes}),e.jsx(t,{children:s.views}),e.jsx(t,{children:k(s.created_on)}),e.jsx(t,{children:e.jsxs(p,{"aria-label":"",value:s.status,onChange:S,id:s._id,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})})]},l))})]})]})};export{J as default};
